<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>登录</title>
    <link href="/stylesheets/bootstrap/css/bootstrap.css" rel="stylesheet">
    <script type="text/javascript" src="/javascripts/angular.min.js"></script>
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
    <script>
        var loginModule = angular.module('loginModule',[]);
        loginModule.controller('loginController',['$scope',function($scope){
            $scope.info = {
                username : "xuhuaiyuan",
                password : "15057142408",
                validUsername:true,
                validPassword:true,
                autoCheckUsername : false,
                autoCheckPassword : true,
                alert:{
                    text:'',
                    show:false
                },
                toggleChecked : function (type) {
                    if(type == 0){
                        this.autoCheckUsername = !this.autoCheckUsername;
                    }else{
                        this.autoCheckPassword = !this.autoCheckPassword;
                    }

                },
                buttonClick:function(){
                    this.validUsername = true;
                    this.validPassword = true;
                    this.alert.show = false;
                    this.alert.text = '';
                    if(this.username == ""){
                        this.validUsername = false;
                        this.alert.text = '用户名不能为空';
                        this.alert.show = true;
                        return;
                    }
                    if(this.password == ""){
                        this.validPassword = false;
                        this.alert.text = '密码不能为空';
                        this.alert.show = true;
                    }
                }
            }
        }]);
    </script>
</head>
<body ng-app="loginModule">
    <div class="container">
        <div class="col-md-6 col-md-offset-3">
            <div class="panel panel-primary" style="margin-top:150px;" ng-controller="loginController">
                <div class="panel-heading">
                    用户登录
                </div>
                <div class="panel-body">
                    <form class="form-horizontal">
                        <div class="form-group {{info.validUsername ? '':'has-error'}}">
                            <label class="control-label col-md-2">用户名</label>
                            {{username}}
                            <div class="col-md-8">
                                <input type="text" class="form-control" ng-model="info.username" value="{{info.username}}"/>
                            </div>
                        </div>
                        <div class="form-group {{info.validPassword ? '':'has-error'}}">
                            <label class="control-label col-md-2">密码</label>
                            <div class="col-md-8">
                                <input type="password" class="form-control" ng-model="info.password" value="{{info.password}}"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-8 col-md-offset-2">
                                <div class="checkbox col-md-6">
                                    <label>
                                        <input type="checkbox" ng-checked = "{{info.autoCheckUsername}}" ng-click="info.toggleChecked(1)"> 记住账号
                                    </label>
                                </div>

                                <div class="checkbox col-md-6">
                                    <label>
                                        <input type="checkbox" ng-checked = "{{info.autoCheckPassword}}" ng-click="info.toggleChecked(2)"> 记住密码
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-8 col-md-offset-2">
                                <button class="col-md-12 btn btn-success" ng-click="info.buttonClick()">登录</button>
                            </div>
                        </div>
                        <div class="alert alert-danger" role="alert" style="display:{{info.alert.show ? 'block' : 'none'}}">{{info.alert.text}}</div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>
</html>